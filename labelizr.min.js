;(function(e,t){if(typeof define==="function"&&define.amd)define(["jquery"],t);else if(typeof exports==="object")module.exports=t(require("jquery"));else{t(e.jQuery)}})(this,function(h,p){"use strict";h(function(){var t="labelizr",e="0.2.3",d={},i={},b={},s={transitionDuration:.1,transitionEasing:"ease-in-out",labelClass:"",classSwitchOnly:false,alwaysDisplay:[],typeMatches:/text|password|email|number|search|url|tel/,css:{field:{},"field-active":{},"field-focus":{},label:{position:"absolute",color:"#838780","background-color":"transparent","-moz-opacity":"0","-khtml-opacity":"0","-webkit-opacity":"0",opacity:"0"},"label-active":{color:"#838780","-moz-opacity":"1","-khtml-opacity":"1","-webkit-opacity":"1",opacity:"1"},"label-focus":{color:"#2996cc"}}};function a(e,t){this.$element=h(e);this.settings=h.extend(true,{},s,t);this.init()}a.prototype={init:function(){var s,a=this,l=this.settings,e=l.transitionDuration,t=l.transitionEasing,i=this.$element,o=i.attr("id"),n=i.attr("placeholder"),c=i.attr("data-label"),f=i.attr("data-class"),r={"-webkit-transition":"all "+e+"s "+t,"-moz-transition":"all "+e+"s "+t,"-o-transition":"all "+e+"s "+t,"-ms-transition":"all "+e+"s "+t,transition:"all "+e+"s "+t};if(i.prop("tagName").toUpperCase()!=="INPUT"&&i.prop("tagName").toUpperCase()!=="TEXTAREA"&&i.prop("tagName").toUpperCase()!=="SELECT"){return}if(i.prop("tagName").toUpperCase()=="INPUT"&&!l.typeMatches.test(i.attr("type"))){return}if(!o){while(!o||h("#"+o).length){o=Math.floor(Math.random()*1e3)+1}i.attr("id",o)}if(!f)f="";if(!n||n==="")n="You forgot to add placeholder attribute!";if(!c||c==="")c=n;i.wrap('<div class="floatlabel-wrapper" style="position:relative"></div>');i.before('<label for="'+o+'" class="label-floatlabel '+l.labelClass+" "+f+'">'+c+"</label>");s=this.$label=i.parent().find("label").css({display:"none"});b[o]=i.attr("style")==p?"":i.attr("style");i.off("keyup.labelizr").off("blur.labelizr").off("change.labelizr").on("keyup.labelizr blur.labelizr change.labelizr",function(e){a.checkValue(e)});i.off("blur.labelizr").on("blur.labelizr",function(){var e=i.is(".active-floatlabel")?"-active":"";i.removeClass("focus-floatlabel");s.removeClass("focus-floatlabel");if(!l.classSwitchOnly){i.css(a.cssConf("field"+e));s.css(a.cssConf("label"+e))}});i.off("focus.labelizr").on("focus.labelizr",function(){var e=i.is(".active-floatlabel")?"-active":"";i.addClass("focus-floatlabel");s.addClass("focus-floatlabel");if(!l.classSwitchOnly){i.css(a.cssConf("field-focus","field"+e));s.css(a.cssConf("label-focus","label"+e))}});var u=this.hasOrientationChange()?"orientationchange.labelizr":"resize.labelizr";h(window).off(u).on(u,function(e){var t=h(":focus");s.removeClass("active-floatlabel").removeClass("focus-floatlabel");i.trigger("blur").data("flout","0").removeClass("active-floatlabel").removeClass("focus-floatlabel");a.resetInlineStyles(o);a.flushCssCache(o);s.css({display:"none"});if(d[o]!=p)clearTimeout(d[o]);d[o]=setTimeout(function(){d[o]=p;if(!l.classSwitchOnly){s.css(r).css(a.cssConf("label"));i.css(r).css(a.cssConf("field"))}a.checkValue();if(!t.data("fl-no-focus")){t.trigger("focus")}},300)}).trigger("resize")},isAndroid:function(){return/Android/.test(navigator.userAgent)},hasOrientationChange:function(){return"onorientationchange"in window},flushCssCache:function(e){if(e==p)i={};else i[e]=p},resetInlineStyles:function(e){h("#"+e).attr("style",b[e]);h('label[for="'+e+'"]').attr("style","")},cssConf:function(e,t){var s=this.$element;var a=s.parent().find("label");var l=s.attr("id");if(i[l]==p){i[l]={};i[l]["field"]=h.extend({},{"padding-top":s.css("padding-top"),height:s.outerHeight()},this.settings.css["field"]);i[l]["label"]=h.extend({},{top:s.css("padding-top"),left:s.css("padding-left"),"font-size":s.css("font-size"),"font-weight":s.css("font-weight"),color:s.css("color"),height:s.css("line-height"),display:"none"},this.settings.css["label"]);i[l]["field-active"]=h.extend({},{"padding-top":parseInt(s.css("padding-top"))+a.outerHeight(),height:s.outerHeight()+a.outerHeight()},this.settings.css["field-active"]);i[l]["label-active"]=h.extend({},{},this.settings.css["label-active"]);i[l]["field-focus"]=h.extend({},{},this.settings.css["field-focus"]);i[l]["label-focus"]=h.extend({},{},this.settings.css["label-focus"])}return t==p||!t?i[l][e]:h.extend({},i[l][t],i[l][e])},checkValue:function(e){if(e){var t=e.keyCode||e.which;if(t===9){return}}var s=this.$element,a=s.data("flout");if(s.val()!=="")s.data("flout","1");if(s.val()==="")s.data("flout","0");if(s.data("flout")==="1"&&a!=="1")this.showLabel();if(s.data("flout")==="0"&&a!=="0"&&(s.prop("tagName").toUpperCase()!=="SELECT"||s.prop("tagName").toUpperCase()==="SELECT"&&this.settings.alwaysDisplay.indexOf("select")===-1))this.hideLabel()},showLabel:function(){var e=this,t,s;e.$label.css({display:"block"});if(!e.settings.classSwitchOnly){if(e.$element.is(".focus-floatlabel")){t=e.cssConf("label-focus","label-active");s=e.cssConf("field-focus","field-active")}else{t=e.cssConf("label-active");s=e.cssConf("field-active")}e.$label.css(t);e.$element.css(s)}e.$label.addClass("active-floatlabel");e.$element.addClass("active-floatlabel")},hideLabel:function(){var e=this;if(!e.settings.classSwitchOnly){e.$label.css(e.cssConf("label"));e.$element.css(e.cssConf("field"))}e.$label.removeClass("active-floatlabel");e.$element.removeClass("active-floatlabel");window.setTimeout(function(){e.$label.css({display:"none"})},e.settings.transitionDuration*1e3)}};h.fn[t]=function(e){return this.each(function(){if(!h.data(this,"plugin_"+t)){h.data(this,"plugin_"+t,new a(this,e))}})}})});
